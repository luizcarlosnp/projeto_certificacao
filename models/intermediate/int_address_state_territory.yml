version: 2

models:
  - name: int_address_state_territory
    description: "Modelo que une dados de endereços, estados/províncias e territórios de vendas."
    columns:
      - name: endereco_id
        description: "Identificador único do endereço."
        tests:
          - not_null
          - unique
      - name: linha_endereco1
        description: "Primeira linha do endereço."
        tests:
          - not_null
      - name: linha_endereco2
        description: "Segunda linha do endereço, opcional."
      - name: nome_cidade
        description: "Nome da cidade associada ao endereço."
        tests:
          - not_null
      - name: codigo_postal
        description: "Código postal associado ao endereço."
        tests:
          - not_null
      - name: localizacao
        description: "Localização espacial do endereço em formato geográfico (exemplo: geohash, WKT)."
      - name: estado_provincia_id
        description: "Identificador único do estado ou província associado ao endereço."
        tests:
          - not_null
          - relationships:
              to: ref('nome_da_tabela_estado_provincia')
              field: estado_provincia_id
      - name: codigo_estado_provincia
        description: "Código que identifica o estado ou província."
        tests:
          - not_null
      - name: nome_estado_provincia
        description: "Nome do estado ou província."
        tests:
          - not_null
      - name: nome_territorio
        description: "Nome do território de vendas."
        tests:
          - not_null
      - name: territorio_id
        description: "Identificador único do território de vendas."
        tests:
          - not_null
          - relationships:
              to: ref('nome_da_tabela_territorio')
              field: territorio_id
      - name: vendas_ano_atual
        description: "Total de vendas acumuladas no ano atual."
        tests:
          - not_null
      - name: vendas_ano_anterior
        description: "Total de vendas acumuladas no ano anterior."
        tests:
          - not_null
      - name: custo_ano_atual
        description: "Custo acumulado no ano atual."
        tests:
          - not_null
      - name: custo_ano_anterior
        description: "Custo acumulado no ano anterior."
        tests:
          - not_null
